# AI教育平台环境变量配置
# 复制此文件为 .env 并填入真实值

# 环境设置
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
APP_NAME="AI Education Backend"
HOST=0.0.0.0
PORT=8000

# 安全配置
SECRET_KEY=your-super-secret-production-key-min-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# 数据库配置（Railway会自动提供）
DATABASE_URL=${Postgres.DATABASE_URL}
DATABASE_ECHO=false

# Redis配置（Railway会自动提供）
REDIS_URL=${Redis.REDIS_URL}

# CORS配置
ALLOWED_HOSTS=your-domain.railway.app,localhost,127.0.0.1
CORS_ORIGINS=https://your-frontend-domain.vercel.app,http://localhost:3000

# ============================================================================
# AI服务配置 (新Agent架构)
# ============================================================================

# OpenRouter API (推荐 - 成本更低)
OPENROUTER_API_KEY=your-openrouter-api-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
DEFAULT_MODEL=google/gemini-2.0-flash-exp:free

# 或者使用OpenAI API
OPENAI_API_KEY=your-openai-api-key

# 自定义AI批改API (可选)
AI_GRADING_API_URL=https://openrouter.ai/api/v1
AI_GRADING_API_KEY=your-api-key

# LLM设置
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=2000

# ============================================================================
# 成本优化设置
# ============================================================================

# 启用统一Agent (推荐 - 节省23%成本)
ENABLE_UNIFIED_AGENT=true

# 启用智能缓存 (推荐 - 节省30%成本)
ENABLE_SMART_CACHE=true
CACHE_SIMILARITY_THRESHOLD=0.85

# 默认批改模式: auto/fast/standard/premium
DEFAULT_GRADING_MODE=auto

# 文件存储配置（AWS S3或Railway Volume）
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_BUCKET=your-s3-bucket-name
AWS_REGION=us-east-1

# 邮件服务配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_USE_TLS=true

# Firebase Auth配置
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY_ID=your-firebase-private-key-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email
FIREBASE_CLIENT_ID=your-firebase-client-id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token