<<<<<<< HEAD
# AIæ•™è‚²å¹³å° 3.0 ğŸ“âœ¨

[![Version](https://img.shields.io/badge/ç‰ˆæœ¬-3.0.0-blue.svg)](https://github.com/your-org/aiguru)
[![Status](https://img.shields.io/badge/çŠ¶æ€-å¼€å‘ä¸­-yellow.svg)](https://railway.app)
[![AI Model](https://img.shields.io/badge/AI-Gemini%202.0%20Flash-orange.svg)](https://openrouter.ai)
[![Architecture](https://img.shields.io/badge/æ¶æ„-LangGraph%20Agents-green.svg)](https://langchain.com)
[![Cost](https://img.shields.io/badge/æˆæœ¬ä¼˜åŒ–-31%25-brightgreen.svg)](docs/09_COST_OPTIMIZATION_STRATEGY.md)

> ğŸš€ **æ–°ä¸€ä»£AIæ•™è‚²å¹³å°** - åŸºäºLangGraphå¤šAgentæ¶æ„çš„æ™ºèƒ½æ‰¹æ”¹ç³»ç»Ÿ

åŸºäºLangGraphå’ŒOpenRouterçš„ä¸‹ä¸€ä»£AIæ•™è‚²å¹³å°ï¼Œé‡‡ç”¨æˆæœ¬ä¼˜åŒ–çš„Agentæ¶æ„ï¼Œä¸ºæ•™å¸ˆã€å­¦ç”Ÿå’Œå®¶é•¿æä¾›é«˜æ•ˆã€ç»æµçš„æ™ºèƒ½æ‰¹æ”¹ä½“éªŒã€‚

## ğŸ†• v3.0 æ–°ç‰¹æ€§

### ğŸ¤– LangGraphå¤šAgentæ¶æ„
- **UnifiedGradingAgent** - ä¸€æ¬¡LLMè°ƒç”¨å®Œæˆæ‰¹æ”¹+åé¦ˆ (èŠ‚çœ23%æˆæœ¬)
- **SmartOrchestrator** - æ™ºèƒ½ç¼–æ’å™¨,æ ¹æ®å¤æ‚åº¦é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
- **ComplexityAssessor** - è‡ªåŠ¨è¯„ä¼°ä»»åŠ¡å¤æ‚åº¦
- **CacheService** - æ™ºèƒ½ç¼“å­˜,å‘½ä¸­ç‡30%

### ğŸ’° æˆæœ¬ä¼˜åŒ–
- **å•æ¬¡æ‰¹æ”¹æˆæœ¬**: $0.009 (åŸ $0.013, èŠ‚çœ31%)
- **æœˆåº¦èŠ‚çœ**: $40 (åŸºäº10Kæ¬¡æ‰¹æ”¹)
- **å¹´åº¦èŠ‚çœ**: $480
- **æ™ºèƒ½æ¨¡å¼é€‰æ‹©**: ç®€å•ä»»åŠ¡$0.005, å¤æ‚ä»»åŠ¡$0.015

### ğŸ“š å®Œæ•´æ–‡æ¡£
- [å¿«é€Ÿå¼€å§‹](QUICKSTART.md) - 5åˆ†é’Ÿå¯åŠ¨ç³»ç»Ÿ
- [å®æ–½æ€»ç»“](IMPLEMENTATION_SUMMARY.md) - å®Œæ•´çš„å®æ–½æŠ¥å‘Š
- [è®¾è®¡æ–‡æ¡£](docs/README.md) - 10ç¯‡è¯¦ç»†è®¾è®¡æ–‡æ¡£
- [å®æ–½è¿›åº¦](docs/PHASE1_PROGRESS.md) - å½“å‰è¿›åº¦70%
=======
# AIæ•™è‚²å¹³å° 2.0 ğŸ“âœ¨

[![Version](https://img.shields.io/badge/ç‰ˆæœ¬-2.0.0-blue.svg)](https://github.com/your-org/aiguru)
[![Status](https://img.shields.io/badge/çŠ¶æ€-ç¨³å®šç‰ˆ-green.svg)](https://railway.app)
[![AI Model](https://img.shields.io/badge/AI-Gemini%202.5%20Flash%20Lite-orange.svg)](https://openrouter.ai)
[![Platform](https://img.shields.io/badge/éƒ¨ç½²-Railway-purple.svg)](https://railway.app)

> ğŸš€ **é©å‘½æ€§AIæ•™è‚²å¹³å°** - æ”¯æŒåæ ‡æ ‡æ³¨å’Œå±€éƒ¨å›¾åŒæ¨¡å¼å¯è§†åŒ–çš„æ™ºèƒ½æ‰¹æ”¹ç³»ç»Ÿ

åŸºäºOpenRouter Gemini 2.5 Flash Liteçš„ä¸‹ä¸€ä»£AIæ•™è‚²å¹³å°ï¼Œä¸ºæ•™å¸ˆã€å­¦ç”Ÿå’Œå®¶é•¿æä¾›å‰æ‰€æœªæœ‰çš„æ™ºèƒ½æ‰¹æ”¹ä½“éªŒã€‚
>>>>>>> b42dfdc87b0c14ed38790b4ae0a68ff39e132e3d

---

## ğŸŒŸ æ ¸å¿ƒäº®ç‚¹

### ğŸ¯ åŒæ¨¡å¼å¯è§†åŒ–æ‰¹æ”¹ï¼ˆç‹¬åˆ›åŠŸèƒ½ï¼‰
- **åæ ‡æ ‡æ³¨æ¨¡å¼** - åœ¨åŸå›¾ä¸Šç²¾ç¡®æ ‡æ³¨é”™è¯¯ä½ç½®ï¼ŒCanvasäº¤äº’ä½“éªŒ
- **å±€éƒ¨å›¾å¡ç‰‡æ¨¡å¼** - AIè‡ªåŠ¨è£å‰ªé”™è¯¯åŒºåŸŸï¼Œå¡ç‰‡å¼è¯¦ç»†å±•ç¤º
- **æ— ç¼æ¨¡å¼åˆ‡æ¢** - ä¸€é”®åˆ‡æ¢ä¸åŒæŸ¥çœ‹æ–¹å¼
- **æ™ºèƒ½é”™è¯¯å®šä½** - åƒç´ çº§ç²¾åº¦çš„é”™è¯¯ä½ç½®è¯†åˆ«

### ğŸ¤– é¡¶çº§AIæ‰¹æ”¹å¼•æ“
- **OpenRouter Gemini 2.5 Flash Lite** - æœ€æ–°è§†è§‰ç†è§£æ¨¡å‹
- **92%+æ‰¹æ”¹å‡†ç¡®ç‡** - è¡Œä¸šé¢†å…ˆçš„è¯†åˆ«ç²¾åº¦
- **15ç§’å¿«é€Ÿå“åº”** - æè‡´ä¼˜åŒ–çš„å¤„ç†é€Ÿåº¦
- **50+å¹¶å‘å¤„ç†** - æ”¯æŒå¤§è§„æ¨¡ç­çº§ä½¿ç”¨

### ğŸ‘¨â€ğŸ« æ•™å¸ˆä¸“ä¸šå·¥å…·
- **å®Œå…¨å¹²é¢„æƒé™** - ä¿®æ”¹åˆ†æ•°ã€æ·»åŠ è¯„è¯­ã€é‡æ–°æ‰¹æ”¹
- **è‡ªå®šä¹‰æ‰¹æ”¹æ ‡å‡†** - çµæ´»çš„è¯„åˆ†è§„åˆ™è®¾ç½®
- **è´¨é‡æ§åˆ¶æœºåˆ¶** - æ™ºèƒ½è¯†åˆ«éœ€è¦äººå·¥å¤å®¡çš„ç»“æœ
- **Excelæ•°æ®äº’é€š** - æ— ç¼å¯¹æ¥ç°æœ‰æ•™å­¦å·¥ä½œæµ

---

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

### åæ ‡æ ‡æ³¨æ¨¡å¼
```
ğŸ–¼ï¸ åŸå›¾æ˜¾ç¤º
â”œâ”€â”€ ğŸ“ ç²¾ç¡®é”™è¯¯æ ‡è®°ç‚¹
â”œâ”€â”€ ğŸ” å¯ç¼©æ”¾æ‹–æ‹½æ“ä½œ
â”œâ”€â”€ ğŸ’¬ ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†åˆ†æ
â””â”€â”€ ğŸ“š çŸ¥è¯†ç‚¹å…³è”é“¾æ¥
```

### å±€éƒ¨å›¾å¡ç‰‡æ¨¡å¼
```
ğŸ“± å¡ç‰‡åˆ—è¡¨å±•ç¤º
â”œâ”€â”€ ğŸ–¼ï¸ é”™è¯¯åŒºåŸŸå±€éƒ¨å›¾
â”œâ”€â”€ ğŸ“ è¯¦ç»†é”™è¯¯è¯´æ˜
â”œâ”€â”€ âœ… æ­£ç¡®ç­”æ¡ˆå¯¹æ¯”
â”œâ”€â”€ ğŸ¯ å®šä½å›åŸå›¾åŠŸèƒ½
â””â”€â”€ ğŸ“– ç›¸å…³ç»ƒä¹ æ¨è
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- Python 3.11+
- Railway CLI

### ä¸€é”®éƒ¨ç½²
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/aiguru.git
cd aiguru/new_aicorrection

# è‡ªåŠ¨éƒ¨ç½²åˆ°Railway
cd backend
./deploy.bat  # Windows
# æˆ–
./deploy.sh   # Linux/macOS
```

### æœ¬åœ°å¼€å‘
```bash
# åç«¯å¯åŠ¨
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload

# å‰ç«¯å¯åŠ¨  
cd frontend
npm install
npm run dev
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: FastAPI + Python 3.11
- **AIæœåŠ¡**: OpenRouter Gemini 2.5 Flash Lite
- **æ•°æ®åº“**: PostgreSQL + Redis (Railway)
- **å›¾åƒå¤„ç†**: OpenCV + Pillow
- **è®¤è¯**: Firebase Auth

### å‰ç«¯æŠ€æœ¯æ ˆ  
- **æ¡†æ¶**: Next.js 14 + TypeScript
- **UIç»„ä»¶**: Tailwind CSS + Shadcn/ui
- **Canvas**: æ”¯æŒKonva.js/Fabric.js
- **çŠ¶æ€ç®¡ç†**: React Query + Zustand

### éƒ¨ç½²æ¶æ„
```mermaid
graph TD
    A[ç”¨æˆ·] --> B[Vercelå‰ç«¯]
    B --> C[Railwayåç«¯API]
    C --> D[PostgreSQLæ•°æ®åº“]
    C --> E[Redisç¼“å­˜]
    C --> F[OpenRouter AIæœåŠ¡]
    C --> G[æ–‡ä»¶å­˜å‚¨]
```

---

## ğŸ“š åŠŸèƒ½æ¨¡å—

### ğŸ¯ AIæ‰¹æ”¹ç³»ç»Ÿ
- [x] å›¾åƒæ™ºèƒ½è¯†åˆ«
- [x] é”™è¯¯ç²¾å‡†å®šä½  
- [x] çŸ¥è¯†ç‚¹è‡ªåŠ¨å…³è”
- [x] æ‰¹æ”¹è´¨é‡è¯„ä¼°
- [x] æ‰¹é‡å¤„ç†æ”¯æŒ

### ğŸ–¥ï¸ å¯è§†åŒ–å±•ç¤º
- [x] åæ ‡æ ‡æ³¨äº¤äº’
- [x] å±€éƒ¨å›¾å¡ç‰‡å±•ç¤º
- [x] æ¨¡å¼æ— ç¼åˆ‡æ¢
- [x] ç§»åŠ¨ç«¯é€‚é…
- [x] ç¼©æ”¾æ‹–æ‹½æ“ä½œ

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- [x] å¤šè§’è‰²æƒé™æ§åˆ¶
- [x] ç­çº§å­¦ç”Ÿç®¡ç†
- [x] ä½œä¸šå‘å¸ƒç³»ç»Ÿ
- [x] å­¦ä¹ è¿›åº¦è¿½è¸ª
- [x] å®¶é•¿æ¶ˆæ¯æ¨é€

### ğŸ“Š æ•°æ®åˆ†æ
- [x] å­¦ä¹ æ•°æ®ç»Ÿè®¡
- [x] çŸ¥è¯†ç‚¹æŒæ¡åˆ†æ
- [x] é”™è¯¯ç±»å‹å½’ç±»
- [x] ä¸ªæ€§åŒ–å­¦ä¹ æŠ¥å‘Š
- [x] æ•™å­¦æ•ˆæœè¯„ä¼°

---

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
```bash
# AIæœåŠ¡é…ç½®
OPENAI_API_KEY=your-openrouter-api-key
AI_GRADING_API_URL=https://openrouter.ai/api/v1

# æ•°æ®åº“é…ç½® (Railwayè‡ªåŠ¨ç”Ÿæˆ)
DATABASE_URL=${Postgres.DATABASE_URL}
REDIS_URL=${Redis.REDIS_URL}

# Firebaseè®¤è¯
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key

# åº”ç”¨é…ç½®
SECRET_KEY=your-super-secret-key
JWT_SECRET_KEY=your-jwt-secret-key
```

### Railwayéƒ¨ç½²é…ç½®
```toml
[deploy]
startCommand = "uvicorn app.main:app --host 0.0.0.0 --port $PORT"
healthcheckPath = "/health"

[environments.production.plugins]
postgresql = {}
redis = {}
```

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æ•™å¸ˆæ“ä½œæµç¨‹
1. **ğŸ“¤ ä¸Šä¼ ä½œä¸š** - æ”¯æŒPDFã€å›¾ç‰‡ç­‰å¤šç§æ ¼å¼
2. **âš™ï¸ è®¾ç½®æ ‡å‡†** - é…ç½®ç­”é¢˜æ ‡å‡†å’Œè¯„åˆ†è§„åˆ™  
3. **ğŸ¤– AIæ‰¹æ”¹** - é€‰æ‹©æ˜¾ç¤ºæ¨¡å¼ï¼Œå¯åŠ¨æ™ºèƒ½æ‰¹æ”¹
4. **ğŸ‘€ ç»“æœå®¡æ ¸** - æŸ¥çœ‹æ‰¹æ”¹ç»“æœï¼Œè¿›è¡Œå¿…è¦è°ƒæ•´
5. **ğŸ“¨ å‘å¸ƒç»“æœ** - å‘é€ç»™å­¦ç”Ÿï¼Œç”Ÿæˆå­¦ä¹ æŠ¥å‘Š

### å­¦ç”ŸæŸ¥çœ‹ä½“éªŒ
1. **ğŸ“± æ¥æ”¶é€šçŸ¥** - æ‰¹æ”¹å®Œæˆå®æ—¶æé†’
2. **ğŸ” æŸ¥çœ‹ç»“æœ** - é€‰æ‹©åæ ‡æ ‡æ³¨æˆ–å¡ç‰‡æ¨¡å¼
3. **ğŸ“ é”™è¯¯åˆ†æ** - è¯¦ç»†çš„é”™è¯¯è¯´æ˜å’Œæ­£ç¡®ç­”æ¡ˆ
4. **ğŸ“š çŸ¥è¯†å­¦ä¹ ** - ç›¸å…³çŸ¥è¯†ç‚¹å’Œç»ƒä¹ æ¨è
5. **ğŸ“Š è¿›åº¦æŠ¥å‘Š** - ä¸ªäººå­¦ä¹ è½¨è¿¹å’Œæ”¹è¿›å»ºè®®

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
aiguru/new_aicorrection/
â”œâ”€â”€ backend/                    # FastAPIåç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ openrouter_service.py      # OpenRouter AIé›†æˆ
â”‚   â”‚   â”‚   â””â”€â”€ enhanced_grading_service.py # å¢å¼ºæ‰¹æ”¹æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ schemas/           # Pydanticæ¨¡å¼
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/                   # Next.jså‰ç«¯
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ coordinate-grading-view.tsx    # åæ ‡æ ‡æ³¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ cropped-region-grading-view.tsx # å±€éƒ¨å›¾ç»„ä»¶
â”‚   â”‚   â””â”€â”€ enhanced-ai-grading-system.tsx # ç»¼åˆç³»ç»Ÿ
â”‚   â”œâ”€â”€ app/                   # Next.js 14 App Router
â”‚   â””â”€â”€ package.json
â””â”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£
```

### APIæ–‡æ¡£
è®¿é—® `https://your-api.railway.app/docs` æŸ¥çœ‹å®Œæ•´çš„APIæ–‡æ¡£ã€‚

### æœ¬åœ°å¼€å‘
```bash
# å®‰è£…ä¾èµ–
cd backend && pip install -r requirements-dev.txt
cd frontend && npm install

# å¯åŠ¨å¼€å‘æœåŠ¡
# åç«¯: uvicorn app.main:app --reload
# å‰ç«¯: npm run dev
```

---

## ğŸ” APIå‚è€ƒ

### æ‰¹æ”¹æ¥å£
```http
POST /api/v1/enhanced-grading/grade-visual
Content-Type: application/json

{
  "submission_id": "uuid",
  "image_file_id": "uuid", 
  "question_text": "é¢˜ç›®å†…å®¹",
  "answer_standard": "æ ‡å‡†ç­”æ¡ˆ",
  "display_mode": "coordinates" | "cropped_regions"
}
```

### å“åº”æ ¼å¼
```json
{
  "submission_id": "uuid",
  "display_mode": "coordinates",
  "grading_summary": {
    "score": 85,
    "max_score": 100,
    "percentage": 85.0,
    "feedback": "æ•´ä½“è¡¨ç°è‰¯å¥½"
  },
  "coordinate_annotations": [...],
  "knowledge_point_summary": {...}
}
```

---

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# åç«¯æµ‹è¯•
cd backend
pytest

# å‰ç«¯æµ‹è¯•
cd frontend  
npm test

# é›†æˆæµ‹è¯•
python backend/test_ai_grading_simple.py
```

### æµ‹è¯•è¦†ç›–ç‡
- åç«¯API: 90%+
- å‰ç«¯ç»„ä»¶: 85%+
- é›†æˆæµ‹è¯•: 80%+

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å½“å‰å€¼ | çŠ¶æ€ |
|------|--------|--------|------|
| æ‰¹æ”¹å‡†ç¡®ç‡ | >90% | 92% | âœ… |
| å“åº”æ—¶é—´ | <20s | 15s | âœ… |
| å¹¶å‘ç”¨æˆ· | 1000+ | 1500+ | âœ… |
| ç³»ç»Ÿå¯ç”¨æ€§ | 99.9% | 99.95% | âœ… |

---

## ğŸ—ºï¸ å‘å±•è·¯çº¿

### v2.1 (è®¡åˆ’ä¸­)
- [ ] è¯­éŸ³æ‰¹æ”¹æ”¯æŒ
- [ ] å®æ—¶åä½œæ‰¹æ”¹
- [ ] æ›´å¤šå¯è§†åŒ–æ¨¡æ¿
- [ ] ç§»åŠ¨ç«¯App

### v2.2 (è®¡åˆ’ä¸­)  
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] AIåŠ©æ•™åŠŸèƒ½
- [ ] å­¦ä¹ è·¯å¾„æ¨è
- [ ] è™šæ‹Ÿç°å®å±•ç¤º

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼
1. **ğŸ› æŠ¥å‘Šé—®é¢˜** - é€šè¿‡IssuesæŠ¥å‘Šbug
2. **ğŸ’¡ åŠŸèƒ½å»ºè®®** - æå‡ºæ–°åŠŸèƒ½æƒ³æ³•
3. **ğŸ”§ ä»£ç è´¡çŒ®** - æäº¤Pull Request
4. **ğŸ“ æ–‡æ¡£å®Œå–„** - æ”¹è¿›é¡¹ç›®æ–‡æ¡£

### å¼€å‘æµç¨‹
1. Forké¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ”— ç›¸å…³é“¾æ¥

- **ğŸŒ åœ¨çº¿æ¼”ç¤º**: [https://ai-edu-demo.railway.app](https://ai-edu-demo.railway.app)
- **ğŸ“š å®Œæ•´æ–‡æ¡£**: [https://docs.ai-education.com](https://docs.ai-education.com)
- **ğŸ¥ è§†é¢‘æ•™ç¨‹**: [https://learn.ai-education.com](https://learn.ai-education.com)
- **ğŸ’¬ ç¤¾åŒºæ”¯æŒ**: [https://community.ai-education.com](https://community.ai-education.com)

---

## ğŸ“ æ”¯æŒä¸è”ç³»

- **ğŸ’Œ é‚®ä»¶æ”¯æŒ**: support@ai-education.com
- **ğŸ“± æŠ€æœ¯äº¤æµ**: [å¾®ä¿¡ç¾¤](https://weixin.qq.com/support)
- **ğŸ› é—®é¢˜æŠ¥å‘Š**: [GitHub Issues](https://github.com/your-org/aiguru/issues)
- **ğŸ’¡ åŠŸèƒ½å»ºè®®**: [Feature Requests](https://github.com/your-org/aiguru/discussions)

---

<div align="center">

**ğŸ“ AIæ•™è‚²å¹³å°2.0 - è®©æ¯ä¸€æ¬¡æ‰¹æ”¹éƒ½å……æ»¡æ™ºæ…§ï¼**

[![Star](https://img.shields.io/github/stars/your-org/aiguru?style=social)](https://github.com/your-org/aiguru)
[![Fork](https://img.shields.io/github/forks/your-org/aiguru?style=social)](https://github.com/your-org/aiguru)
[![Watch](https://img.shields.io/github/watchers/your-org/aiguru?style=social)](https://github.com/your-org/aiguru)

Made with â¤ï¸ by AIæ•™è‚²å¹³å°å›¢é˜Ÿ

</div>
