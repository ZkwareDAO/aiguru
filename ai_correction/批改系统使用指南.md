# AI智能批改系统使用指南

## 🚀 快速开始

### 1. 启动系统
```bash
# 双击运行统一启动器
start_unified.bat
```

### 2. 访问系统
- **前端界面**: http://localhost:3000
- **后端API**: http://localhost:8000
- **API文档**: http://localhost:8000/docs

### 3. 登录账户
使用测试账户登录：
- **用户名**: test_user_1
- **密码**: password1

## 📋 批改功能详解

### 核心功能
基于 `functions/api_correcting/calling_api.py` 的专业批改引擎，提供四种批改模式：

#### 1. 自动批改（推荐）
- **功能**: 自动生成评分标准并进行批改
- **适用场景**: 大多数批改需求
- **特点**: 智能分析题目，生成合适的评分标准，然后进行批改

#### 2. 仅生成评分标准
- **功能**: 根据题目生成详细的评分标准
- **适用场景**: 需要制定标准评分方案
- **特点**: 不进行批改，只输出评分标准

#### 3. 使用自定义评分标准
- **功能**: 使用用户提供的评分标准进行批改
- **适用场景**: 有明确评分要求的场景
- **特点**: 严格按照提供的标准执行批改

#### 4. 单题批改
- **功能**: 专门针对单道题目的详细批改
- **适用场景**: 深度分析单个题目
- **特点**: 提供更详细的步骤分析和错误诊断

## 🔧 使用步骤

### 步骤1: 准备文件
支持的文件格式：
- **图片**: JPG, PNG, GIF, BMP, WebP
- **文档**: PDF, TXT, DOC, DOCX, MD
- **大小限制**: 每个文件最大5MB

### 步骤2: 选择批改类型
根据需求选择合适的批改模式：
- 初次使用 → 选择"自动批改"
- 需要评分标准 → 选择"仅生成评分标准"
- 有现成标准 → 选择"使用自定义评分标准"
- 单题分析 → 选择"单题批改"

### 步骤3: 设置参数
- **严格程度**: 宽松/中等/严格
- **输出语言**: 中文/English

### 步骤4: 上传并批改
1. 选择文件（可多选）
2. 点击"开始批改"
3. 等待处理完成
4. 查看批改结果

## 📊 批改结果解读

### 结果内容包含
1. **基本信息**: 科目、题目类型、总分
2. **步骤分析**: 每步的得分和错误分析
3. **详细评价**: 正确点、错误点、扣分原因
4. **改进建议**: 针对性的学习建议

### 数学符号处理
系统使用标准Unicode数学符号：
- 分数: 1/2 (不是LaTeX格式)
- 根号: √2 
- 三角函数: sin x, cos θ
- 指数: x², e^x
- 积分: ∫f(x)dx
- 求和: Σx_i

## 🎯 高级功能

### 多文件处理
- 支持同时上传多个文件
- 自动识别题目、答案、评分标准
- 智能组合处理

### 严格程度控制
- **宽松**: 温和批改，鼓励为主
- **中等**: 平衡严格与宽容
- **严格**: 严格按标准，精确评分

### 多语言支持
- 中文: 适合中文教学环境
- English: 适合英文教学环境

## 🔍 故障排除

### 常见问题

#### 1. 上传失败
- 检查文件大小（<5MB）
- 确认文件格式支持
- 检查网络连接

#### 2. 批改失败
- 确认已登录
- 检查文件内容清晰度
- 重试或联系管理员

#### 3. 结果显示异常
- 刷新页面
- 检查浏览器兼容性
- 清除浏览器缓存

### 技术支持
- 查看浏览器控制台错误信息
- 检查后端服务状态: http://localhost:8000/health
- 查看系统日志: logs/app_debug.log

## 📈 最佳实践

### 文件准备建议
1. **图片文件**: 确保清晰度足够，文字可读
2. **PDF文件**: 避免扫描版，优先使用原生PDF
3. **文本文件**: 使用UTF-8编码

### 批改效果优化
1. **题目完整**: 确保题目信息完整
2. **答案清晰**: 学生答案步骤清楚
3. **标准明确**: 自定义标准时要详细具体

### 结果利用
1. **保存记录**: 系统自动保存批改历史
2. **导出结果**: 支持复制和下载
3. **持续改进**: 根据结果调整教学策略

## 🛡️ 安全与隐私

### 数据安全
- 文件本地存储，不上传外部服务器
- 用户数据加密保存
- 定期清理临时文件

### 隐私保护
- 用户数据仅本地可见
- 不与第三方共享
- 支持数据删除

## 📞 技术支持

### 系统要求
- **操作系统**: Windows 10/11
- **Python**: 3.8+
- **Node.js**: 18+
- **浏览器**: Chrome, Firefox, Edge (最新版)

### 更新维护
- 定期检查系统更新
- 备份重要数据
- 监控系统性能

---

**提示**: 如需更多帮助，请查看 `启动说明.md` 或联系技术支持。 